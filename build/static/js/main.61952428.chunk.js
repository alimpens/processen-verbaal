(this["webpackJsonpprocessen-verbaal"]=this["webpackJsonpprocessen-verbaal"]||[]).push([[0],{31:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),r=n(14),i=n.n(r),o=(n(31),n(4)),s=n(1),u=n(8),d=n(48),l=n(46),b=n(44),j=n(51),v=n(47),f=n(50),h=n(49),p=n(52),O=n(45),m=n(0),g=n(15),x=n.n(g),w=n(19),S=n(20),k=n.n(S);var y,E,z,B=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(o.a)(r,2),s=i[0],u=i[1];function d(){return(d=Object(w.a)(x.a.mark((function e(t){var n,a,r=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.length>1&&void 0!==r[1]?r[1]:{},a=r.length>2&&void 0!==r[2]?r[2]:"",c(!0),fetch(t,n).then((function(e){return e.blob()})).then((function(e){k()(e,a||t.split("/").pop()),c(!1)})).catch((function(){u(!0),c(!1)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return[n,function(e){return d.apply(this,arguments)},s]},H=n(2),C=m.d.form(y||(y=Object(s.a)(["\n  width: 100%;\n  margin-top: ",";\n"])),Object(u.f)(8)),I=Object(m.d)(d.a)(E||(E=Object(s.a)(["\n  max-width: 320px;\n  margin-bottom: ",";\n"])),Object(u.f)(9)),M=m.d.div(z||(z=Object(s.a)(["\n  max-width: 320px;\n"])));var F=function(){var e,t,n,c,r=Object(a.useState)(),i=Object(o.a)(r,2),s=i[0],u=i[1],d=Object(a.useState)(),m=Object(o.a)(d,2),g=m[0],x=m[1],w=Object(a.useState)(),S=Object(o.a)(w,2),k=S[0],y=S[1],E=B(),z=Object(o.a)(E,3),F=z[0],L=z[1],A=z[2],D=Object(a.useState)(!1),J=Object(o.a)(D,2),_=J[0],N=J[1],P=Object(a.useState)(!0),T=Object(o.a)(P,2),q=T[0],K=T[1];return Object(a.useEffect)((function(){var e=!0;return fetch("https://api.data.amsterdam.nl/v1/verkiezingen/processenverbaal/?page_size=10000&verkiezingsjaar=2022").then((function(e){return e.json()})).then((function(t){e&&u(t)})),function(){e=!1}}),[]),Object(a.useEffect)((function(){var e,t,n=!0,a=document.querySelector("#root"),c=null===a||void 0===a||null===(e=a.dataset)||void 0===e?void 0:e.config,r=c&&(null===(t=JSON.parse(c))||void 0===t?void 0:t.contentApi);return fetch(r).then((function(e){return e.json()})).then((function(e){n&&x(e)})),function(){n=!1}}),[]),Object(H.jsxs)(l.a,{children:[Object(H.jsx)(b.a,{}),Object(H.jsx)(j.a,{children:"Hier kunt u de processen-verbaal van de Amsterdamse stembureaus downloaden."}),Object(H.jsx)(j.a,{children:g&&Object(H.jsx)(v.a,{href:"".concat(null===g||void 0===g||null===(e=g.applicatie["extra-velden"])||void 0===e||null===(t=e.variabelen)||void 0===t?void 0:t.value,"2022-03-16-alle-stembureaus-voor-uitslag.pdf"),variant:"inline",target:"_blank",children:"Bekijk hier de lijst met alle stembureaus"})}),s?Object(H.jsxs)(C,{children:[Object(H.jsxs)(I,{defaultValue:"placeholder",value:k,onChange:function(e){y(e.target.value),N(!0),K(!1)},label:"Kies stembureau",children:[Object(H.jsx)("option",{value:"placeholder",disabled:!0,hidden:!0,children:"Maak een keuze"}),null===(n=s._embedded)||void 0===n||null===(c=n.processenverbaal)||void 0===c?void 0:c.sort((function(e,t){return e.volgnummer-t.volgnummer})).map((function(e){var t,n,a=e.id,c=e.volgnummer,r=e.uri;return Object(H.jsx)("option",{value:r,children:"Stembureau ".concat((t=c,n=3,String(t).padStart(n,"0")))},a)}))]}),Object(H.jsx)(f.a,{type:"button",iconLeft:F?Object(H.jsx)(h.a,{}):Object(H.jsx)(O.a,{}),onClick:function(){L(k),N(!1)},variant:"primary",disabled:q||F,children:"Download"}),A&&!_&&Object(H.jsx)(p.a,{message:"Deze download is niet beschikbaar"})]}):Object(H.jsx)(M,{children:Object(H.jsx)(h.a,{size:24})})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},A=n(25);window.renderApp=function(){var e=document.getElementById("micro-frontend");e&&i.a.render(Object(H.jsx)(c.a.StrictMode,{children:Object(H.jsx)(F,{})}),e)},document.getElementById("micro-frontend")||i.a.render(Object(H.jsx)(c.a.StrictMode,{children:Object(H.jsx)(F,{})}),document.getElementById("root")),L(),window.addEventListener("load",(function(){window.top!==window.self&&(document.body.className+=" framed");var e=document.getElementById("root"),t="documentHeight:"+e.scrollHeight;window.parent.postMessage(t,"*"),Object(A.registerHeightObserver)(e,{direction:"vertical"},(function(){var t="documentHeight:"+e.scrollHeight;window.parent.postMessage(t,"*")}))}))}},[[39,1,2]]]);
//# sourceMappingURL=main.61952428.chunk.js.map